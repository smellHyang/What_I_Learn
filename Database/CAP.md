## 1. CAP란?

![image](https://user-images.githubusercontent.com/73684562/166480789-28757238-e717-422d-b095-1272972268ee.png)

- DB시스템은 일관성, 가용성, 분할 내구성 3가지 특성 중 2가지만 만족할 수 있다는 이론—

### 일관성(Consistency)

- 모든 읽기에 대해서 DB노드가 항상 동일한 데이터를 가지고 있어야 한다.
- 모든 데이터를 요청 할때 응답으로 가장 최신의 변경된 데이터를 리턴 또는 실패

### 가용성(Availability)

- 모든 요청에 대해 정상적인 응답을 한다.
- `노드 내에서` 일부 장애가 발생하더라고 read와 write등 동작은 항상 성공적으로 리턴

### 파티션 허용(Partition Tolerance)

- `DB노드간`의 통신 장애가 발생하더라도 동작해야한다.

## 2. CAP 시스템

### CP 시스템

- 일관성과 파티션 허용을 제공
- 응답하는 유일한 노드는 모든 write요청을 처리하는 마스터 노드의 연결을 유지하기 때문에 일관성있다.
- 다른 파티션의 노드는 수신하는 쿼리에 대해 응답하지 않기때문에 사용할 수 없다.

→ Redis, MongoDB

### AP 시스템

- 가용성을 갖는 시스템에서는 모든 노드가 어떤 상황에서 응답할 수 있어야한다.
- 서로 다른 상태를 생성하는 동안 두 파티션이 모두 응답하기에 일관성이 떨어짐
- 데이터의 동기를 보장하진않지만 비공기화된 대용량 데이터 처리에 유리하다.

→ Cassandra, Couch DB..

### CA 시스템

- 일관성(Consistency)과 가용성(Availability)을 만족 → 완전히 연결이 끊긴 시스템에서
- 두 노드 사이에 파티션이 있는 경우 이를 수행할 수 없으므로, 결함 허용을 제공할 수 없다.

→ 일반 RDBMS
