## 1. ACID란?

- 원자성(Atomicity), 일관성(Consistency), 고립성(Isolation), 지속성(Durability)
- DB트랜젝션이 안전하게 수행된다는 것을 보장하기 위한 성질

### 원자성(Atomicity)

- 트랜잭션은 분해가 불가능한 최소 단위인 하나의 원자처럼 동작한다.
- 트랜잭션 내 모든 연산들은 완전하게 수행완료하거나 실패해야한다.
    - rollback segment : 오류 발생 시 rollback이 되는데 확실한 부분에 save point를 지정하여 이 이전은 확실하다고 간주

### 일관성(Consistency)

- 트랜잭션 작업이 시작되기 전과 후 모두 일관성 있는 DB상태를 유지해야한다.
    - 이벤트와 조건 발생 시 Trigger를 통해 일관성 보장

### 고립성(Isolation)

- 트랜잭션 작업 수행중 다른 트랜잭션에 영향을 주어서도, 간섭을 받아서도 안된다.
- 다수의 트랜잭션이 동시에 수행 될 때 하나의 트랜잭션이 완료될때까지는 다른 트랜잭션이 그 수행과정을 보거나 참조 할 수 없다.(
    - 병행처리(concurrent processing) : 시간할당으로 정해진 시간이 끝나면 다른 트랜잭션 실행
    - lock, excute unlock : 데이터를 read, write할때는 다른 트랜잭션이 접근하지 못하도록 하고 수행을 마치면 unlock하여 접근 허용(데드락 위험)
    - 2PL 프로토콜 : lock이 쭉 실행되고 나서 Unlock이 쭉 실행되는 프로토콜(데드락 방지)

### **지속성(Durablility)**

- 하나의 트랜잭션이 성공적으로 수행되었다면, 해당 로그가 남아야 한다.
- 시스템이 정상일때나 이상 종료(DB, OS..) 등 시스템 장애 시 해당 기록은 영구적이어야한다.
- 트랜잭션 조작을 하드디스크에 로그로 기록하고 시스템 이상이 발생하면 그 로그를 이용해 이상 발생 전으로 복원한다.

![image](https://user-images.githubusercontent.com/73684562/166480666-48b4cb0d-5bbc-4cbb-887f-0385b1dbbbd5.png)
